<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
    <script src="main.js"></script>
</head>

<body>
    <p>
        <h3>插入元素</h3>
        <input type="text" id="name" placeholder="姓名" />
        <label for="sex">性别</label>
        <select id="sex">
            <option value="male">男</option>
            <option value="female">女</option>
        </select>
        <input type="text" placeholder="索引(从0开始)" id="index" />
        <input type="button" value="插入" id="insert">
        <input type="button" value="获取" id="get">
        <input type="button" value="删除" id="del">
    </p>
    <h3>结果</h3>
    <p id="result"></p>

    <script>
        var sqList = [],
            insert = document.getElementById('insert'),
            result = document.getElementById('result'),
            getBtn = document.getElementById('get'),
            delBtn = document.getElementById('del');

        function insertItem(name, sex, i) {
            var obj = {};
            obj.name = name;
            obj.sex = sex;
            if (i < 0 || i > sqList.length) {
                result.innerHTML += "<br>非法的索引位置" + i + "<br>";
            } else {
                for (var j = sqList.length - 1; j >= i; j--) {
                    sqList[j + 1] = sqList[j];
                }
                sqList[i] = obj;
                result.innerHTML += "<br>从索引" + i + "处插入一个元素<br>" + JSON.stringify(sqList);
            }
        }

        function getItem(index) {
            if (index < 0 || index > sqList.length) {
                result.innerHTML += "<br>非法的索引位置" + i + "<br>";
            }
            for (var k = 0; k < sqList.length; k++) {
                if (k == index) {
                    result.innerHTML += "<br>获取索引为" + index + "的元素:<br>" + JSON.stringify(sqList[k]);
                    break;
                }
            }
        }

        function deleteItem(index) {
            var delObj = sqList[index];
            if (sqList.length == 0) {
                result.innerHTML += "<br>线性表为空";
                return;
            }
            if (index < 0 || index > sqList.length - 1) {
                result.innerHTML += "<br>非法的索引位置" + i + "<br>";
                return;
            }
            //如果删除的不是最后一个元素
            else if (index < sqList.length - 1) {
                for (var i = index; i < sqList.length - 1; i++) {
                    sqList[i] = sqList[i + 1];

                }
            }
            sqList.length--;
            result.innerHTML += "<br>删除的元素:<br>" + JSON.stringify(delObj) + "<br>被删除后的顺序表:<br>" + JSON.stringify(sqList);

        }
        //插入调用
        insert.onclick = function () {
            var name = document.getElementById("name").value,
                selectIndex = document.getElementById("sex").selectedIndex,
                male = document.getElementById("sex").options[selectIndex].value,
                index = document.getElementById("index").value;
            insertItem(name, male, index);
        };
        //获取调用
        getBtn.onclick = function () {
            var index = document.getElementById("index").value;
            getItem(index);
        };
        //删除调用
        delBtn.onclick = function () {
            var index = parseInt(document.getElementById("index").value);
            deleteItem(index);
        };
    </script>
</body>

</html>